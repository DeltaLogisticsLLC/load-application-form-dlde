<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Load Application Form</title>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
<style>
body {
  font-family: Arial, sans-serif;
  background: #f7f7f7;
  padding: 30px;
}
.form-container {
  max-width: 600px;
  margin: auto;
  background: white;
  padding: 25px;
  border-radius: 10px;
  box-shadow: 0 0 10px rgba(0,0,0,0.1);
}
h2 {
  text-align: center;
  margin-bottom: 20px;
}
input, select {
  width: 100%;
  padding: 10px;
  margin-top: 8px;
  border: 1px solid #ccc;
  border-radius: 5px;
}
button {
  width: 100%;
  background-color: #007bff;
  color: white;
  border: none;
  padding: 12px;
  margin-top: 20px;
  border-radius: 5px;
  cursor: pointer;
}
button:hover {
  background-color: #0056b3;
}
#status {
  text-align: center;
  margin-top: 15px;
  font-weight: bold;
}
</style>
</head>
<body>

<div class="form-container">
  <h2>Load Application Form</h2>
  <form id="dispatchForm">
    <label>Delta Logistics LLC Load Number:</label>
    <input type="text" id="load_number" pattern="\\d{7}" maxlength="7" required>

    <label>Carrier Company MC Number:</label>
    <input type="text" id="carrier_mc" required>

    <label>Carrier DOT Number:</label>
    <input type="text" id="carrier_dot" required>

    <label>Carrier Company Name:</label>
    <input type="text" id="carrier_name" required>

    <label>Dispatch Name:</label>
    <input type="text" id="dispatch_name" required>

    <label>Dispatch Phone:</label>
    <input type="text" id="dispatch_phone" required>

    <label>Driver Name:</label>
    <input type="text" id="driver_name" required>

    <label>Driver Phone:</label>
    <input type="text" id="driver_phone" required>

    <label>Truck Number:</label>
    <input type="text" id="truck_number" required>

    <label>Truck VIN:</label>
    <input type="text" id="truck_vin" pattern="[A-HJ-NPR-Z0-9]{17}" maxlength="17" required>

    <label>Trailer Number:</label>
    <input type="text" id="trailer_number" required>

    <label>Tracking Link (optional):</label>
    <input type="url" id="tracking_link">

    <label>Pick-up Date:</label>
    <input type="text" id="eta_date" required>

    <label>Pick-up Time:</label>
    <input type="time" id="eta_time" required>

    <button type="submit">Submit</button>
  </form>

  <div id="status"></div>
</div>

<script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
<script>
flatpickr("#eta_date", { dateFormat: "m/d/Y" });

document.getElementById("dispatchForm").addEventListener("submit", function(e) {
  e.preventDefault();
  const url = "PASTE_YOUR_WEB_APP_URL_HERE"; // üîó –≤—Å—Ç–∞–≤ —Å—é–¥–∏ Apps Script URL

  const data = {
    load_number: document.getElementById("load_number").value,
    carrier_mc: document.getElementById("carrier_mc").value,
    carrier_dot: document.getElementById("carrier_dot").value,
    carrier_name: document.getElementById("carrier_name").value,
    dispatch_name: document.getElementById("dispatch_name").value,
    dispatch_phone: document.getElementById("dispatch_phone").value,
    driver_name: document.getElementById("driver_name").value,
    driver_phone: document.getElementById("driver_phone").value,
    truck_number: document.getElementById("truck_number").value,
    truck_vin: document.getElementById("truck_vin").value,
    trailer_number: document.getElementById("trailer_number").value,
    tracking_link: document.getElementById("tracking_link").value,
    eta_date: document.getElementById("eta_date").value,
    eta_time: document.getElementById("eta_time").value
  };

  fetch(url, {
    method: "POST",
    body: JSON.stringify(data),
    headers: { "Content-Type": "application/json" }
  })
  .then(res => res.json())
  .then(res => {
    if (res.result === "success") {
      document.getElementById("status").innerHTML = "‚úÖ Form submitted successfully!";
      e.target.reset();
    } else {
      document.getElementById("status").innerHTML = "‚ùå Error: " + (res.message || "Unknown issue");
    }
  })
  .catch(() => document.getElementById("status").innerHTML = "‚ö†Ô∏è Network error. Try again.");
});
</script>
</body>
</html>
